{
  "citations" : [ {
    "textCitation" : "[See wilthlem2 on Metamath](http://us.metamath.org/mpegif/wilthlem2.html)"
  } ],
  "names" : [ "wilthlem2" ],
  "language" : "METAMATH_SET_MM",
  "lookupTerms" : [ "#T_cT", "#T_wceq", "#T_cmgp", "#T_cfv", "#T_ccnfld", "#T_cA", "#T_wceq", "#T_crab--1", "#T_vx", "#T_crab--2", "#T_cpw", "#T_c1", "#T_cfz", "#T_cP", "#T_cmin", "#T_c1", "#T_crab--3", "#T_cP", "#T_cmin", "#T_c1", "#T_wcel", "#T_vx", "#T_wa", "#T_wral--1", "#T_vy", "#T_wral--2", "#T_vx", "#T_vy", "#T_cexp", "#T_cP", "#T_cmin", "#T_c2", "#T_cmo", "#T_cP", "#T_wcel", "#T_vx", "#T_crab--4", "#T_wph", "#T_wi", "#T_cP", "#T_wcel", "#T_cprime", "#T_wph", "#T_wi", "#T_cS", "#T_wcel", "#T_cA", "#T_wph", "#T_wi", "#T_wral--1", "#T_vs", "#T_wral--2", "#T_cA", "#T_vs", "#T_wpss", "#T_cS", "#T_wi", "#T_cT", "#T_cgsu", "#T_cid", "#T_cres", "#T_vs", "#T_cmo", "#T_cP", "#T_wceq", "#T_cneg", "#T_c1", "#T_cmo", "#T_cP", "#T_wph", "#T_wi", "#T_cT", "#T_cgsu", "#T_cid", "#T_cres", "#T_cS", "#T_cmo", "#T_cP", "#T_wceq", "#T_cneg", "#T_c1", "#T_cmo", "#T_cP", "#T_cA", "#T_vs", "#T_vx", "#T_vy", "#T_cP", "#T_vs", "#T_vx", "#T_vy", "#T_cS", "#T_vs", "#T_vx", "#T_vy", "#T_cT", "#T_vs", "#T_vx", "#T_vy", "#T_wph", "#T_vx", "#T_vy" ],
  "metaLanguage" : "METAMATH",
  "remarks" : " Lemma for ~ wilth : induction step.  The \"hand proof\" version of this theorem works by writing out the list of all numbers from ` 1 ` to ` P - 1 ` in pairs such that a number is paired with its inverse. Every number has a unique inverse different from itself except ` 1 ` and ` P - 1 ` , and so each pair multiplies to ` 1 ` , and ` 1 ` and ` P - 1 == -u 1 ` multiply to ` -u 1 ` , so the full product is equal to ` -u 1 ` .  Here we make this precise by doing the product pair by pair. The induction hypothesis says that every subset ` S ` of ` 1 ... ( P - 1 ) ` that is closed under inverse (i.e. all pairs are matched up) and contains ` P - 1 ` multiplies to ` -u 1 mod P ` . Given such a set, we take out one element ` z =/= P - 1 ` .  If there are no such elements, then ` S = { P - 1 } ` which forms the base case.  Otherwise, ` S \\ { z , z ^ -u 1 } ` is also closed under inverse and contains ` P - 1 ` , so the induction hypothesis says that this equals ` -u 1 ` ; and the remaining two elements are either equal to each other, in which case ~ wilthlem1 gives that ` z = 1 ` or ` P - 1 ` , and we've already excluded the second case, so the product gives ` 1 ` ; or ` z =/= z ^ -u 1 ` and their product is ` 1 ` .  In either case the accumulated product is unaffected.  (Contributed by Mario Carneiro, 24-Jan-2015.)  (Proof shortened by AV, 27-Jul-2019.) ",
  "statement" : "wilthlem.t $e |- T = ( mulGrp ` CCfld ) $.\nwilthlem.a $e |- A = { x e. ~P ( 1 ... ( P - 1 ) ) | ( ( P - 1 ) e. x /\\ A. y e. x ( ( y ^ ( P - 2 ) ) mod P ) e. x ) } $.\nwilthlem2.p $e |- ( ph -> P e. Prime ) $.\nwilthlem2.s $e |- ( ph -> S e. A ) $.\nwilthlem2.r $e |- ( ph -> A. s e. A ( s C. S -> ( ( T gsum ( _I |` s ) ) mod P ) = ( -u 1 mod P ) ) ) $.\nwilthlem2 $p |- ( ph -> ( ( T gsum ( _I |` S ) ) mod P ) = ( -u 1 mod P ) ) $.\n$d A s x y $.\n$d P s x y $.\n$d S s x y $.\n$d T s x y $.\n$d ph x y $."
}